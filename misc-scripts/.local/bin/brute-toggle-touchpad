#!/bin/sh
# A very brute-force way to toggle touchpad

DEVICE_ID=serio4
BASE_DIR=/sys/bus/serio/drivers/psmouse

ACTION=0 # 0 = turn on, 1 = turn off

if [ x"$1" = x"-enable" ]; then
  ACTION=0
elif [ x"$1" = x"-disable" ]; then
  ACTION=1
else
  FILE="$BASE_DIR/$DEVICE_ID"
  if [ -e $FILE ]; then
    ACTION=1
  else
    ACTION=0
  fi
fi

if [ $ACTION = 1 ]; then
  notify-send -u normal "Disabling Touchpad"
  sudo /usr/local/bin/touchpadctl.sh -disable
elif [ $ACTION = 0 ]; then
  notify-send -u normal "Enabling Touchpad"
  sudo /usr/local/bin/touchpadctl.sh -enable
fi
